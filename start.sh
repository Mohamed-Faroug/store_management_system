#!/bin/bash

# ูุธุงู ุฅุฏุงุฑุฉ ุงููุฎุฒูู ูุงููุจูุนุงุช
# Inventory Management System

echo "========================================"
echo "   ูุธุงู ุฅุฏุงุฑุฉ ุงููุฎุฒูู ูุงููุจูุนุงุช"
echo "========================================"
echo

# ูุญุต Python
echo "๐ ูุญุต ุงููุชุทูุจุงุช..."
if ! command -v python3 &> /dev/null; then
    echo "โ Python3 ุบูุฑ ูุซุจุช ุฃู ุบูุฑ ููุฌูุฏ ูู PATH"
    echo "ูุฑุฌู ุชุซุจูุช Python 3.8 ุฃู ุฃุญุฏุซ"
    exit 1
fi

echo "โ Python ูุชููุฑ"
echo

# ูุญุต ููู ุงููุชุทูุจุงุช
echo "๐ฆ ูุญุต ุงููุชุทูุจุงุช..."
if [ ! -f "requirements.txt" ]; then
    echo "โ ููู requirements.txt ุบูุฑ ููุฌูุฏ"
    exit 1
fi

echo "โ ููู ุงููุชุทูุจุงุช ููุฌูุฏ"
echo

# ุชุซุจูุช ุงููุชุทูุจุงุช
echo "๐ง ุชุซุจูุช ุงููุชุทูุจุงุช..."
pip3 install -r requirements.txt --quiet
if [ $? -ne 0 ]; then
    echo "โ ูุดู ูู ุชุซุจูุช ุงููุชุทูุจุงุช"
    exit 1
fi

echo "โ ุชู ุชุซุจูุช ุงููุชุทูุจุงุช ุจูุฌุงุญ"
echo

# ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
echo "๐๏ธ ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
if [ ! -f "inventory.db" ]; then
    echo "โ๏ธ  ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉุ ุณูุชู ุฅูุดุงุคูุง ุชููุงุฆูุงู"
fi

echo "โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ"
echo

# ุชุดุบูู ุงูุชุทุจูู
echo "๐ ุชุดุบูู ุงูุชุทุจูู..."
echo
echo "๐ฑ ุงููุชุตูุญ: http://127.0.0.1:5000"
echo "โน๏ธ  ูุฅููุงู ุงูุชุทุจูู: Ctrl+C"
echo "========================================"
echo

python3 run.py

echo
echo "๐ ุชู ุฅููุงู ุงูุชุทุจูู"
